<html>
<meta charset="utf-8"/>
<head>
<script src="https://www.gstatic.com/firebasejs/3.7.2/firebase.js"></script>
<script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyAPiYeHqRphhkQXTWlZIfg5xj4rdiHyIAk",
      authDomain: "my-push-notification-pro-22b56.firebaseapp.com",
      databaseURL: "https://my-push-notification-pro-22b56.firebaseio.com",
      projectId: "my-push-notification-pro-22b56",
      storageBucket: "my-push-notification-pro-22b56.appspot.com",
      messagingSenderId: "1089161823792"
    };
    firebase.initializeApp(config);


    const messaging = firebase.messaging();

    messaging.requestPermission()
    .then(function() {
    console.log('Notification permission granted.');
    return messaging.getToken();
    })
    .then(function(token) {
    console.log(token); // Display user token
    })
    .catch(function(err) { // Happen if user deney permission
    console.log('Unable to get permission to notify.', err);
    });

    // messaging.onMessage(function(payload){
    //   console.log('onMessage',payload);
    // });
</script>
</head>
<body>
  <form action="curl.php" method="post">
    <input type="submit" value="submit"/>
  </form>
</body>
</html>